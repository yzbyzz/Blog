<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/wiki/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/wiki/static/css/tango.css">
    <link rel="shortcut icon" href="/wiki/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/wiki/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>sizeof - z.Wiki</title>
    <meta name="keywords" content=""/>
    <meta name="description" content=""/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>

  <body>
    <div id="container">
      
<div id="header">
  <div class="post-nav"><a href="/wiki/">Home</a>&nbsp;&#187;&nbsp;<a href="/wiki/#language">language</a>&nbsp;&#187;&nbsp;sizeof
    <span class="updated">Updated&nbsp;
      2016-08-31 15:00
      
    </span></div>
</div>
<div class="clearfix"></div>

<div class="page_title">sizeof</div>

  <div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#sizeof">sizeof</a><ul>
<li><a href="#_1">用法</a><ul>
<li><a href="#1">1.括在括号内的类型</a></li>
<li><a href="#2unary-expression">2.一元表达式（unary-expression）</a></li>
</ul>
</li>
<li><a href="#_2">参考</a></li>
</ul>
</li>
</ul>
</div>
<h1 id="sizeof">sizeof</h1>
<div class="hlcode"><pre><span class="k">sizeof</span><span class="err">是一个单目操作符，并不是函数。</span>
<span class="k">sizeof</span><span class="err">操作符以字节形式给出了其操作数的存储大小。</span>
<span class="err">操作数可以是一个表达式或括在括号内的类型名。</span>
<span class="err">操作数的存储大小由操作数的类型决定。　</span>   
<span class="err">操作的结果是</span><span class="kt">size_t</span><span class="err">类型，具体的返回值与操作系统和编译器有关。</span>
</pre></div>


<h2 id="_1">用法</h2>
<h3 id="1">1.括在括号内的类型</h3>
<div class="hlcode"><pre><span class="err">必须有括号</span>
<span class="k">sizeof</span><span class="p">(</span><span class="n">TYPE</span><span class="p">)</span>
</pre></div>


<h3 id="2unary-expression">2.一元表达式（unary-expression）</h3>
<div class="hlcode"><pre><span class="err">括号可加可不加，表达式不会被计算</span>
<span class="err">对一个指向数组的指针操作时，得到的是整个数组所占据的存储大小</span>
<span class="err">若想计算指向数组的指针本身占据的存储大小，可以将该指针作为参数传递到函数中，并在函数中对其操作</span>
</pre></div>


<div class="hlcode"><pre><span class="c1">// Example</span>
<span class="p">#</span><span class="k">include</span> <span class="o">&lt;</span><span class="n">iostream</span><span class="o">&gt;</span>
<span class="n">using</span> <span class="n">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="n">size_t</span> <span class="n">getPtrSize</span><span class="p">(</span> <span class="n">char</span> <span class="o">*</span><span class="n">ptr</span> <span class="p">)</span>
<span class="p">{</span>
   <span class="k">return</span> <span class="n">sizeof</span><span class="p">(</span> <span class="n">ptr</span> <span class="p">);</span>
<span class="p">}</span>

<span class="k">int</span> <span class="n">main</span><span class="p">()</span>
<span class="p">{</span>
   <span class="n">char</span> <span class="n">szHello</span><span class="p">[]</span> <span class="o">=</span> <span class="s">&quot;Hello, world!&quot;</span><span class="p">;</span>

   <span class="n">cout</span>  <span class="o">&lt;&lt;</span> <span class="s">&quot;The size of a char is: &quot;</span>
         <span class="o">&lt;&lt;</span> <span class="n">sizeof</span><span class="p">(</span> <span class="n">char</span> <span class="p">)</span>
         <span class="o">&lt;&lt;</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">The length of &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">szHello</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; is: &quot;</span>
         <span class="o">&lt;&lt;</span> <span class="n">sizeof</span> <span class="n">szHello</span>
         <span class="o">&lt;&lt;</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">The size of the pointer is &quot;</span>
         <span class="o">&lt;&lt;</span> <span class="n">getPtrSize</span><span class="p">(</span> <span class="n">szHello</span> <span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
<span class="cm">/***    Output</span>
<span class="cm">The size of a char is: 1</span>
<span class="cm">The length of Hello, world! is: 14</span>
<span class="cm">The size of the pointer is 4</span>
<span class="cm">***/</span>
</pre></div>


<h2 id="_2">参考</h2>
<p><a href="https://msdn.microsoft.com/en-us/library/4s7x1k91.aspx">microsoft library</a>
<a href="http://blog.sina.com.cn/s/blog_5da08c340100bmwu.html">c语言详解sizeof</a></p>
    </div>
    <div id="footer">
      <span>
        <p>Copyright © 2016 yzbyzz.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.</p>
        <p>Site Generated 2016-09-01 17:03:41</p>
      </span>
    </div>
  </body>
</html>