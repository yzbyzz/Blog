<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/wiki/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/wiki/static/css/tango.css">
    <link rel="shortcut icon" href="/wiki/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/wiki/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>字符编码 - z.Wiki</title>
    <meta name="keywords" content=""/>
    <meta name="description" content=""/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>

  <body>
    <div id="container">
      
<div id="header">
  <div class="post-nav"><a href="/wiki/">Home</a>&nbsp;&#187;&nbsp;<a href="/wiki/#basic">basic</a>&nbsp;&#187;&nbsp;字符编码
    <span class="updated">Updated&nbsp;
      2017-05-20 16:00
      
    </span></div>
</div>
<div class="clearfix"></div>

<div class="page_title">字符编码</div>

  <div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#_1">基本概念</a><ul>
<li><a href="#character">字符(character)</a></li>
<li><a href="#character-repertoire">字库表(character repertoire)</a></li>
<li><a href="#coded-character-set">编码字符集(coded character set)</a></li>
<li><a href="#character-encoding-form">字符编码(character encoding form)</a></li>
<li><a href="#_2">代码单元</a></li>
</ul>
</li>
<li><a href="#_3">常见字符集</a><ul>
<li><a href="#ascii">ASCII及其扩展字符集</a></li>
<li><a href="#iso-8859-1">ISO-8859-1字符集</a></li>
<li><a href="#gb2312">GB2312字符集</a></li>
<li><a href="#big5">BIG5字符集</a></li>
<li><a href="#gbk">GBK字符集</a></li>
<li><a href="#gb18030">GB18030字符集</a></li>
<li><a href="#ucs">UCS字符集</a></li>
<li><a href="#unicode">UNICODE字符集</a></li>
<li><a href="#_4">按所表示的文字分类</a></li>
</ul>
</li>
<li><a href="#_5">字符编码</a><ul>
<li><a href="#ascii_1">ASCII编码</a></li>
<li><a href="#utf-32">UTF-32</a></li>
<li><a href="#utf-16">UTF-16</a></li>
<li><a href="#utf-8">UTF-8</a></li>
</ul>
</li>
<li><a href="#_6">在编程语言中的体现</a><ul>
<li><a href="#python">python</a></li>
</ul>
</li>
<li><a href="#_7">参考</a></li>
</ul>
</div>
<h2 id="_1">基本概念</h2>
<p>计算机中储存的信息都是用二进制数表示的；而我们在屏幕上看到的英文、汉字等字符是二进制数转换之后的结果。通俗的说，按照何种规则将字符存储在计算机中，如 'a' 用什么表示，称为"编码"；反之，将存储在计算机中的二进制数解析显示出来，称为"解码"，如同密码学中的加密和解密。在解码过程中，如果使用了错误的解码规则，则导致 'a' 解析成其他字符，我们就有可能看到乱码。</p>
<h3 id="character">字符(character)</h3>
<p>字符是抽象的最小文本单位。它没有固定的形状（可能是一个字形），而且没有值。“A”是一个字符，“€”（德国、法国和许多其他欧洲国家通用货币的标志）也是一个字符。“中”“国”这是两个汉字字符。字符仅仅代表一个符号，没有任何实际值的意义。</p>
<h3 id="character-repertoire">字库表(character repertoire)</h3>
<p>字符的集合。一个相当于所有可读或者可显示字符的数据库，字库表决定了整个字符集能够展现表示的所有字符的范围。</p>
<h3 id="coded-character-set">编码字符集(coded character set)</h3>
<p>用一个编码值 code point 来表示一个字符在字库中的位置。即在一种字符集中一个字符和一个数值一一对应。字符集好比给每个字符分配一个独一无二的身份证（数字），不同的字符集对同一字符可能分配不同的身份证。</p>
<h3 id="character-encoding-form">字符编码(character encoding form)</h3>
<p>编码字符集和实际存储数值之间的转换关系。一个字符集可能存在多种编码方式，如unicode字符集，对应UTF-8/UTF-16/UTF-32等编码方式。</p>
<h3 id="_2">代码单元</h3>
<p>在每种编码形式中，代码点被映射到一个或多个代码单元。“代码单元”是各个编码方式中的单个单元。代码单元的大小等效于特定编码方式的位数：</p>
<div class="hlcode"><pre><span class="n">UTF</span><span class="o">-</span><span class="mi">8</span><span class="err">：</span><span class="n">UTF</span><span class="o">-</span><span class="mi">8</span> <span class="err">中的代码单元由</span> <span class="mi">8</span> <span class="err">位组成；在</span> <span class="n">UTF</span><span class="o">-</span><span class="mi">8</span> <span class="err">中，因为代码单元较小的缘故，每个代码点常常被映射到多个代码单元。代码点将被映射到一个、两个、三个或四个代码单元；</span>
<span class="n">UTF</span><span class="o">-</span><span class="mi">16</span><span class="err">：</span><span class="n">UTF</span><span class="o">-</span><span class="mi">16</span> <span class="err">中的代码单元由</span> <span class="mi">16</span> <span class="err">位组成；</span><span class="n">UTF</span><span class="o">-</span><span class="mi">16</span> <span class="err">的代码单元大小是</span> <span class="mi">8</span> <span class="err">位代码单元的两倍。所以，标量值小于</span> <span class="n">U</span><span class="o">+</span><span class="mi">10000</span> <span class="err">的代码点被编码到单个代码单元中；</span>
<span class="n">UTF</span><span class="o">-</span><span class="mi">32</span><span class="err">：</span><span class="n">UTF</span><span class="o">-</span><span class="mi">32</span> <span class="err">中的代码单元由</span> <span class="mi">32</span> <span class="err">位组成；</span><span class="n">UTF</span><span class="o">-</span><span class="mi">32</span> <span class="err">中使用的</span> <span class="mi">32</span> <span class="err">位代码单元足够大，每个代码点都可编码为单个代码单元；</span>
<span class="n">GB18030</span><span class="err">：</span><span class="n">GB18030</span> <span class="err">中的代码单元由</span> <span class="mi">8</span> <span class="err">位组成；在</span> <span class="n">GB18030</span> <span class="err">中，因为代码单元较小的缘故，每个代码点常常被映射到多个代码单元。代码点将被映射到一个、两个或四个代码单元。</span>
</pre></div>


<h2 id="_3">常见字符集</h2>
<h3 id="ascii">ASCII及其扩展字符集</h3>
<div class="hlcode"><pre><span class="err">作用：表语英语及西欧语言。</span>
<span class="err">位数：</span><span class="n">ASCII</span><span class="err">是用</span><span class="mi">7</span><span class="err">位表示的，能表示</span><span class="mi">128</span><span class="err">个字符；其扩展使用</span><span class="mi">8</span><span class="err">位表示，表示</span><span class="mi">256</span><span class="err">个字符。</span>
<span class="err">范围：</span><span class="n">ASCII</span><span class="err">从</span><span class="mo">00</span><span class="err">到</span><span class="mf">7F</span><span class="err">，扩展从</span><span class="mo">00</span><span class="err">到</span><span class="n">FF</span><span class="err">。</span>
</pre></div>


<h3 id="iso-8859-1">ISO-8859-1字符集</h3>
<div class="hlcode"><pre><span class="err">作用：扩展</span><span class="n">ASCII</span><span class="err">，表示西欧、希腊语等。</span>
<span class="err">位数：</span><span class="mi">8</span><span class="err">位，</span>
<span class="err">范围：从</span><span class="mo">00</span><span class="err">到</span><span class="n">FF</span><span class="err">，兼容</span><span class="n">ASCII</span><span class="err">字符集。</span>
</pre></div>


<h3 id="gb2312">GB2312字符集</h3>
<div class="hlcode"><pre><span class="err">作用：国家简体中文字符集，兼容</span><span class="n">ASCII</span><span class="err">。</span>
<span class="err">位数：使用</span><span class="mi">2</span><span class="err">个字节表示，能表示</span><span class="mi">7445</span><span class="err">个符号，包括</span><span class="mi">6763</span><span class="err">个汉字，几乎覆盖所有高频率汉字。</span>
<span class="err">范围：高字节从</span><span class="n">A1</span><span class="err">到</span><span class="n">F7</span><span class="p">,</span> <span class="err">低字节从</span><span class="n">A1</span><span class="err">到</span><span class="n">FE</span><span class="err">。将高字节和低字节分别加上</span><span class="mi">0</span><span class="n">XA0</span><span class="err">即可得到编码。</span>
</pre></div>


<h3 id="big5">BIG5字符集</h3>
<div class="hlcode"><pre><span class="err">作用：统一繁体字编码。</span>
<span class="err">位数：使用</span><span class="mi">2</span><span class="err">个字节表示，表示</span><span class="mi">13053</span><span class="err">个汉字。</span>
<span class="err">范围：高字节从</span><span class="n">A1</span><span class="err">到</span><span class="n">F9</span><span class="err">，低字节从</span><span class="mi">40</span><span class="err">到</span><span class="mi">7</span><span class="n">E</span><span class="err">，</span><span class="n">A1</span><span class="err">到</span><span class="n">FE</span><span class="err">。</span>
</pre></div>


<h3 id="gbk">GBK字符集</h3>
<div class="hlcode"><pre><span class="err">作用：它是</span><span class="n">GB2312</span><span class="err">的扩展，加入对繁体字的支持，兼容</span><span class="n">GB2312</span><span class="err">。</span>
<span class="err">位数：使用</span><span class="mi">2</span><span class="err">个字节表示，可表示</span><span class="mi">21886</span><span class="err">个字符。</span>
<span class="err">范围：高字节从</span><span class="mi">81</span><span class="err">到</span><span class="n">FE</span><span class="err">，低字节从</span><span class="mi">40</span><span class="err">到</span><span class="n">FE</span><span class="err">。</span>
</pre></div>


<h3 id="gb18030">GB18030字符集</h3>
<div class="hlcode"><pre><span class="err">作用：它解决了中文、日文、朝鲜语等的编码，兼容</span><span class="n">GBK</span><span class="err">。</span>
<span class="err">位数：它采用变字节表示</span><span class="p">(</span><span class="mi">1</span> <span class="n">ASCII</span><span class="err">，</span><span class="mi">2</span><span class="err">，</span><span class="mi">4</span><span class="err">字节</span><span class="p">)</span><span class="err">。可表示</span><span class="mi">27484</span><span class="err">个文字。</span>
<span class="err">范围：</span><span class="p">(</span><span class="mi">1</span><span class="err">字节</span><span class="p">)</span><span class="err">从</span><span class="mo">00</span><span class="err">到</span><span class="mf">7F</span><span class="p">;</span> <span class="p">(</span><span class="mi">2</span><span class="err">字节</span><span class="p">)</span><span class="err">高字节从</span><span class="mi">81</span><span class="err">到</span><span class="n">FE</span><span class="err">，低字节从</span><span class="mi">40</span><span class="err">到</span><span class="mi">7</span><span class="n">E</span><span class="err">和</span><span class="mi">80</span><span class="err">到</span><span class="n">FE</span><span class="err">；</span><span class="p">(</span><span class="mi">4</span><span class="err">字节</span><span class="p">)</span><span class="err">第一三字节从</span><span class="mi">81</span><span class="err">到</span><span class="n">FE</span><span class="err">，第二四字节从</span><span class="mi">30</span><span class="err">到</span><span class="mi">39</span><span class="err">。</span>
</pre></div>


<h3 id="ucs">UCS字符集</h3>
<div class="hlcode"><pre><span class="err">作用：国际标准</span> <span class="n">ISO</span> <span class="mi">10646</span> <span class="err">定义了通用字符集</span> <span class="p">(</span><span class="n">Universal</span> <span class="n">Character</span> <span class="n">Set</span><span class="p">)</span><span class="err">。它是与</span><span class="n">UNICODE</span><span class="err">同类的组织，</span><span class="n">UCS</span><span class="o">-</span><span class="mi">2</span><span class="err">和</span><span class="n">UNICODE</span><span class="err">兼容。</span>
<span class="err">位数：它有</span><span class="n">UCS</span><span class="o">-</span><span class="mi">2</span><span class="err">和</span><span class="n">UCS</span><span class="o">-</span><span class="mi">4</span><span class="err">两种格式，分别是</span><span class="mi">2</span><span class="err">字节和</span><span class="mi">4</span><span class="err">字节。</span>
<span class="err">范围：目前，</span><span class="n">UCS</span><span class="o">-</span><span class="mi">4</span><span class="err">只是在</span><span class="n">UCS</span><span class="o">-</span><span class="mi">2</span><span class="err">前面加了</span><span class="mi">0</span><span class="err">×</span><span class="mo">0000</span><span class="err">。</span>
</pre></div>


<h3 id="unicode">UNICODE字符集</h3>
<div class="hlcode"><pre><span class="err">作用：为世界</span><span class="mi">650</span><span class="err">种语言进行统一编码，兼容</span><span class="n">ISO</span><span class="o">-</span><span class="mi">8859</span><span class="o">-</span><span class="mi">1</span><span class="err">。</span>
<span class="err">位数：</span><span class="n">UNICODE</span><span class="err">字符集有多个编码方式，分别是</span><span class="n">UTF</span><span class="o">-</span><span class="mi">8</span><span class="err">，</span><span class="n">UTF</span><span class="o">-</span><span class="mi">16</span><span class="err">和</span><span class="n">UTF</span><span class="o">-</span><span class="mi">32</span><span class="err">。</span>
</pre></div>


<h3 id="_4">按所表示的文字分类</h3>
<table>
<thead>
<tr>
<th>语言</th>
<th>字符集</th>
<th>正式名称</th>
</tr>
</thead>
<tbody>
<tr>
<td>英语、西欧语</td>
<td>ASCII，ISO-8859-1</td>
<td>MBCS 多字节</td>
</tr>
<tr>
<td>简体中文</td>
<td>GB2312</td>
<td>MBCS 多字节</td>
</tr>
<tr>
<td>繁体中文</td>
<td>BIG5</td>
<td>MBCS 多字节</td>
</tr>
<tr>
<td>简繁中文</td>
<td>GBK</td>
<td>MBCS 多字节</td>
</tr>
<tr>
<td>中文、日文及朝鲜语</td>
<td>GB18030</td>
<td>MBCS 多字节</td>
</tr>
<tr>
<td>各国语言</td>
<td>UNICODE，UCS</td>
<td>DBCS 宽字节</td>
</tr>
</tbody>
</table>
<h2 id="_5">字符编码</h2>
<h3 id="ascii_1">ASCII编码</h3>
<p>ASCII字符集的范围在一个字节之内，实际存储的值也是一个字节，并且与该字符在字符集中的 code point 相等。</p>
<h3 id="utf-32">UTF-32</h3>
<p>使用4字节的数字来表达每个字母、符号，或者表意文字(ideograph)，每个数字代表唯一的至少在某种语言中使用的符号的编码方案，称为UTF-32。UTF-32又称UCS-4是一种将Unicode字符编码的协定，对每个字符都使用4字节。就空间而言，是非常没有效率的。</p>
<p>这种方法有其优点，最重要的一点就是可以在常数时间内定位字符串里的第N个字符，因为第N个字符从第4×Nth个字节开始。虽然每一个码位使用固定长定的字节看似方便，它并不如其它Unicode编码使用得广泛。</p>
<h3 id="utf-16">UTF-16</h3>
<p>尽管有Unicode字符非常多，但是实际上大多数人不会用到超过前65535个以外的字符。因此，就有了另外一种Unicode编码方式，叫做UTF-16(因为16位 = 2字节)。UTF-16将0–65535范围内的字符编码成2个字节，如果真的需要表达那些很少使用的"星芒层(astral plane)"内超过这65535范围的Unicode字符，则需要使用一些诡异的技巧来实现。UTF-16编码最明显的优点是它在空间效率上比UTF-32高两倍，因为每个字符只需要2个字节来存储（除去65535范围以外的），而不是UTF-32中的4个字节。并且，如果我们假设某个字符串不包含任何星芒层中的字符，那么我们依然可以在常数时间内找到其中的第N个字符，直到它不成立为止这总是一个不错的推断。其编码方法是：</p>
<ul>
<li>如果字符编码U小于0x10000，也就是十进制的0到65535之内，则直接使用两字节表示；</li>
<li>如果字符编码U大于等于0x10000，由于UNICODE编码范围最大为0x10FFFF，从0x10000到0x10FFFF之间 共有0xFFFFF个编码，也就是需要20个bit就可以表示这些编码。用U'表示从0-0xFFFFF之间的值，将其前 10 bit作为高位和16 bit的数值0xD800进行 逻辑or 操作，将后10 bit作为低位和0xDC00做 逻辑or 操作，这样组成的 4个byte就构成了U的编码。</li>
</ul>
<p>对于UTF-32和UTF-16编码方式还有一些其他不明显的缺点。不同的计算机系统会以不同的顺序保存字节。这意味着字符U+4E2D在UTF-16编码方式下可能被保存为4E 2D或者2D 4E，这取决于该系统使用的是<a href="./bigEndianLittleEndian.html">大尾端(big-endian)</a>还是<a href="./bigEndianLittleEndian.html">小尾端(little-endian)</a>。（对于UTF-32编码方式，则有更多种可能的字节排列。）只要文档没有离开你的计算机，它还是安全的——同一台电脑上的不同程序使用相同的字节顺序(byte order)。但是当我们需要在系统之间传输这个文档的时候，也许在万维网中，我们就需要一种方法来指示当前我们的字节是怎样存储的。不然的话，接收文档的计算机就无法知道这两个字节4E 2D表达的到底是U+4E2D还是U+2D4E。</p>
<p>为了解决这个问题，多字节的Unicode编码方式定义了一个"字节顺序标记(Byte Order Mark)"，它是一个特殊的非打印字符，你可以把它包含在文档的开头来指示你所使用的字节顺序。对于UTF-16，字节顺序标记是U+FEFF。如果收到一个以字节FF FE开头的UTF-16编码的文档，你就能确定它的字节顺序是单向的(one way)的了；如果它以FE FF开头，则可以确定字节顺序反向了。</p>
<h3 id="utf-8">UTF-8</h3>
<div class="hlcode"><pre><span class="n">UTF</span><span class="o">-</span><span class="mi">8</span><span class="err">（</span><span class="mi">8</span><span class="o">-</span><span class="n">bit</span> <span class="n">Unicode</span> <span class="n">Transformation</span> <span class="n">Format</span><span class="err">）是一种针对</span><span class="n">Unicode</span><span class="err">的可变长度字符编码（定长码），也是一种前缀码。它可以用来表示</span><span class="n">Unicode</span><span class="err">标准中的任何字符，且其编码中的第一个字节仍与</span><span class="n">ASCII</span><span class="err">兼容，这使得原来处理</span><span class="n">ASCII</span><span class="err">字符的软件无须或只须做少部份修改，即可继续使用。因此，它逐渐成为电子邮件、网页及其他存储或传送文字的应用中，优先采用的编码。互联网工程工作小组（</span><span class="n">IETF</span><span class="err">）要求所有互联网协议都必须支持</span><span class="n">UTF</span><span class="o">-</span><span class="mi">8</span><span class="err">编码。</span>
</pre></div>


<p>UTF-8使用一至四个字节为每个字符编码：</p>
<ul>
<li>128个US-ASCII字符只需一个字节编码（Unicode范围由U+0000至U+007F）。</li>
<li>带有附加符号的拉丁文、希腊文、西里尔字母、亚美尼亚语、希伯来文、阿拉伯文、叙利亚文及它拿字母则需要二个字节编码（Unicode范围由U+0080至U+07FF）。</li>
<li>其他基本多文种平面（BMP）中的字符（这包含了大部分常用字）使用三个字节编码。</li>
<li>其他极少使用的Unicode辅助平面的字符使用四字节编码。
在处理经常会用到的ASCII字符方面非常有效。在处理扩展的拉丁字符集方面也不比UTF-16差。对于中文字符来说，比UTF-32要好。同时，（在这一条上你得相信我，因为我不打算给你展示它的数学原理。）由位操作的天性使然，使用UTF-8不再存在字节顺序的问题了。一份以utf-8编码的文档在不同的计算机之间是一样的比特流。</li>
</ul>
<p>总体来说，在Unicode字符串中不可能由码点数量决定显示它所需要的长度，或者显示字符串之后在文本缓冲区中光标应该放置的位置；组合字符、变宽字体、不可打印字符和从右至左的文字都是其归因。所以尽管在UTF-8字符串中字符数量与码点数量的关系比UTF-32更为复杂，在实际中很少会遇到有不同的情形。</p>
<p>UTF-8的编码规则很简单，只有二条：</p>
<ul>
<li>对于单字节的符号，字节的第一位设为0，后面7位为这个符号的unicode码。因此对于英语字母，UTF-8编码和ASCII码是相同的。</li>
<li>对于n字节的符号（n&gt;1），第一个字节的前n位都设为1，第n+1位设为0，后面字节的前两位一律设为10。剩下的没有提及的二进制位，全部为这个符号的unicode码。</li>
</ul>
<p>下表总结了编码规则，字母x表示可用编码的位。</p>
<table>
<thead>
<tr>
<th>Unicode符号范围 十六进制</th>
<th>UTF-8编码方式 二进制</th>
</tr>
</thead>
<tbody>
<tr>
<td>0000 0000-0000 007F</td>
<td>0xxxxxxx</td>
</tr>
<tr>
<td>0000 0080-0000 07FF</td>
<td>110xxxxx 10xxxxxx</td>
</tr>
<tr>
<td>0000 0800-0000 FFFF</td>
<td>1110xxxx 10xxxxxx 10xxxxxx</td>
</tr>
<tr>
<td>0001 0000-0010 FFFF</td>
<td>11110xxx 10xxxxxx 10xxxxxx 10xxxxxx</td>
</tr>
</tbody>
</table>
<p>以汉字“严”为例：
已知“严”的unicode是4E25（100111000100101），根据上表，可以发现4E25处在第三行的范围内（0000 0800-0000 FFFF），因此“严”的UTF-8编码需要三个字节，即格式是“1110xxxx 10xxxxxx 10xxxxxx”。然后，从“严”的最后一个二进制位开始，依次从后向前填入格式中的x，多出的位补0。这样就得到了，“严”的UTF-8编码是“11100100 10111000 10100101”，转换成十六进制就是E4B8A5。</p>
<p>优点</p>
<p>UTF-8是ASCII的一个超集。因为一个纯ASCII字符串也是一个合法的UTF-8字符串，所以现存的ASCII文本不需要转换。为传统的扩展ASCII字符集设计的软件通常可以不经修改或很少修改就能与UTF-8一起使用。
使用标准的面向字节的排序例程对UTF-8排序将产生与基于Unicode代码点排序相同的结果。（尽管这只有有限的有用性，因为在任何特定语言或文化下都不太可能有仍可接受的文字排列顺序。）
UTF-8和UTF-16都是可扩展标记语言文档的标准编码。所有其它编码都必须通过显式或文本声明来指定。
任何面向字节的字符串搜索算法都可以用于UTF-8的数据（只要输入仅由完整的UTF-8字符组成）。但是，对于包含字符记数的正则表达式或其它结构必须小心。
UTF-8字符串可以由一个简单的算法可靠地识别出来。就是，一个字符串在任何其它编码中表现为合法的UTF-8的可能性很低，并随字符串长度增长而减小。举例说，字符值C0,C1,F5至FF从来没有出现。为了更好的可靠性，可以使用正则表达式来统计非法过长和替代值（可以查看W3 FAQ: Multilingual Forms上的验证UTF-8字符串的正则表达式）。</p>
<p>缺点</p>
<p>因为每个字符使用不同数量的字节编码，所以寻找串中第N个字符是一个O(N)复杂度的操作 — 即，串越长，则需要更多的时间来定位特定的字符。同时，还需要位变换来把字符编码成字节，把字节解码成字符。</p>
<h2 id="_6">在编程语言中的体现</h2>
<h3 id="python">python</h3>
<div class="hlcode"><pre><span class="c">#coding=utf8</span>

<span class="c"># unicode -&gt; encode -&gt; str</span>
<span class="n">s_u</span> <span class="o">=</span> <span class="s">u&#39;中文&#39;</span>
<span class="k">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">s_u</span><span class="p">)</span>                     <span class="c"># 2</span>
<span class="k">print</span> <span class="nb">type</span><span class="p">(</span><span class="n">s_u</span><span class="p">)</span>                    <span class="c"># &lt;type &#39;unicode&#39;&gt;, u&#39;\u4e2d\u6587&#39;</span>
<span class="k">print</span> <span class="n">s_u</span>                          <span class="c"># 中文</span>
<span class="k">print</span> <span class="n">s_u</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">&#39;utf8&#39;</span><span class="p">)</span>           <span class="c"># 中文</span>
<span class="k">print</span> <span class="nb">type</span><span class="p">(</span><span class="n">s_u</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">&#39;utf8&#39;</span><span class="p">))</span>     <span class="c"># &lt;type &#39;str&#39;&gt;, &#39;\xe4\xb8\xad\xe6\x96\x87&#39;</span>

<span class="c"># str -&gt; decode -&gt; unicode</span>
<span class="n">s</span> <span class="o">=</span> <span class="s">&#39;中文&#39;</span>
<span class="k">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>                       <span class="c"># 6</span>
<span class="k">print</span> <span class="nb">type</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>                      <span class="c"># &lt;type &#39;str&#39;&gt;, &#39;\xe4\xb8\xad\xe6\x96\x87&#39;</span>
<span class="k">print</span> <span class="n">s</span>                            <span class="c"># 中文</span>
<span class="k">print</span> <span class="n">s</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">&#39;utf8&#39;</span><span class="p">)</span>             <span class="c"># 中文</span>
<span class="k">print</span> <span class="nb">type</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">&#39;utf8&#39;</span><span class="p">))</span>       <span class="c"># &lt;type &#39;unicode&#39;&gt;, u&#39;\u4e2d\u6587&#39;</span>
</pre></div>


<h2 id="_7">参考</h2>
<p><a href="http://www.cnblogs.com/zhenjing/archive/2011/08/07/chinese_string.html">转 字符集编码(GBK，BIG5，UNICODE)与C++的string/wstring</a> <br />
<a href="http://cenalulu.github.io/linux/character-encoding/">十分钟搞清字符集和字符编码</a><br />
<a href="http://www.cnblogs.com/skynet/archive/2011/05/03/2035105.html">字符集和字符编码(Charset &amp; Encoding)</a><br />
<a href="https://zh.wikipedia.org/wiki/%E5%85%A7%E7%A2%BC">内码</a> <br />
<a href="https://zh.wikipedia.org/wiki/%E5%A4%96%E7%A0%81">外码</a>  </p>
    </div>
    <div id="footer">
      <span>
        <p>Copyright © 2017 yzbyzz.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.</p>
        <p>Site Generated 2017-05-20 17:29:02</p>
      </span>
    </div>
  </body>
</html>